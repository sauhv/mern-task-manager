
# ğŸ“„ rename.md â€” HÆ°á»›ng dáº«n API Upload & Rename File

## ğŸ§© Má»¥c Ä‘Ã­ch

Dá»± Ã¡n nÃ y cung cáº¥p má»™t API Ä‘Æ¡n giáº£n sá»­ dá»¥ng Node.js vÃ  Express Ä‘á»ƒ:

- Upload file tá»« client
- Äá»•i tÃªn file sau khi upload
- LÆ°u file vÃ o thÆ° má»¥c `uploads/`
- Cáº¥u hÃ¬nh cá»•ng vÃ  biáº¿n mÃ´i trÆ°á»ng qua `.env`

---

## ğŸ“¦ CÃ¡c package sá»­ dá»¥ng

| Package         | MÃ´ táº£ |
|-----------------|-------|
| `express`       | Framework backend cho Node.js |
| `cors`          | Cho phÃ©p gá»i API tá»« domain khÃ¡c |
| `dotenv`        | Äá»c biáº¿n mÃ´i trÆ°á»ng tá»« file `.env` |
| `multer`        | Xá»­ lÃ½ file upload (multipart/form-data) |
| `fs`, `path`    | Xá»­ lÃ½ Ä‘Æ°á»ng dáº«n vÃ  Ä‘á»•i tÃªn file |
| *(TÃ¹y chá»n má»Ÿ rá»™ng)* | |
| `jsonwebtoken`  | XÃ¡c thá»±c báº±ng token JWT |
| `bcryptjs`      | MÃ£ hÃ³a máº­t kháº©u |
| `mongoose`      | Káº¿t ná»‘i MongoDB |
| `exceljs`       | Xuáº¥t file danh sÃ¡ch dÆ°á»›i dáº¡ng Excel |

---

## ğŸš€ CÃ¡ch sá»­ dá»¥ng

### 1. CÃ i Ä‘áº·t

```bash
npm install express cors dotenv multer bcryptjs jsonwebtoken mongoose exceljs
```

### 2. Táº¡o file `.env`

```env
PORT=3000
```

### 3. Táº¡o thÆ° má»¥c chá»©a file upload

```bash
mkdir uploads
```

### 4. Cháº¡y server

```bash
node rename.js
```

---

## ğŸ“¤ API Upload & Äá»•i tÃªn file

**Endpoint:** `POST /upload`  
**Method:** `POST`  
**Content-Type:** `multipart/form-data`

### Body (form-data):

| Field     | MÃ´ táº£ |
|-----------|------|
| `myfile`  | File cáº§n upload |
| `newName` | TÃªn má»›i cho file (khÃ´ng cáº§n pháº§n má»Ÿ rá»™ng) |

### VÃ­ dá»¥:

- File upload: `avatar.png`
- newName: `user_001`

Server sáº½ lÆ°u file thÃ nh: `uploads/user_001.png`

---

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c

```
project-root/
â”œâ”€â”€ uploads/        # NÆ¡i lÆ°u file upload
â”œâ”€â”€ rename.js       # Script xá»­ lÃ½ upload & rename
â”œâ”€â”€ .env            # Biáº¿n mÃ´i trÆ°á»ng
â””â”€â”€ rename.md       # HÆ°á»›ng dáº«n sá»­ dá»¥ng
```

---

## ğŸ›  Má»Ÿ rá»™ng gá»£i Ã½

- âœ… ThÃªm báº£o máº­t JWT trÆ°á»›c khi cho phÃ©p upload
- âœ… Ghi log file upload vÃ o MongoDB
- âœ… Export danh sÃ¡ch file ra Excel (`exceljs`)

---

## ğŸ‘¨â€ğŸ’» TÃ¡c giáº£

Huá»³nh VÄƒn SÃ¡u  
[GitHub](https://github.com/) â€¢ [LinkedIn](https://linkedin.com/) *(thÃªm link náº¿u cáº§n)*
